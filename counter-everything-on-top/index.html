<!DOCTYPE html>
<html>
    <head>
        <title>Counter with everything on top</title>

        <!-- <script src="../bower_components/webcomponentsjs/webcomponents&#45;lite.min.js"></script> -->

        <script src="counter.js"></script>

        <link rel="import" href="my-counter-controls.html"/>
    </head>

    <body>
        <p>In the document, <br>the value is <span class="value">0</span></p>

        <div id="counter"></div>

        <my-counter-controls id="controls"></my-counter-controls>

        <script>
            var node = document.getElementById('counter');

            var counter = Elm.Counter.embed(node, { value : 0 });
            counter.ports.change.subscribe(value => {
                document.querySelector('.value').textContent = value;
            });

            var controls = document.getElementById('controls');
            controls.addEventListener('reset', function (e) {
                counter.ports.set.send(0);
            });
        </script>
    </body>
</html>
